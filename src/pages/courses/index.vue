<route lang="json5" type="page">
{
  layout: 'default',
  style: {
    navigationBarTitleText: 'è¯¾ç¨‹åˆ—è¡¨',
  },
}
</route>

<template>
  <view class="p-4 space-y-4 bg-[#f7f7f7] h-[93vh]">
    <!-- é¡¶éƒ¨æ ‡é¢˜ -->
    <view
      class="bg-gradient-to-r from-indigo-400 to-indigo-600 text-white rounded-2xl p-4 shadow-md"
    >
      <view class="text-sm opacity-80">ðŸ“š æˆ‘çš„å­¦ä¹ </view>
      <view class="text-xl font-bold mt-2 text-center">è¯¾ç¨‹åˆ—è¡¨</view>
    </view>

    <!-- è¯¾ç¨‹åˆ—è¡¨ -->
    <view class="space-y-3">
      <view
        v-for="course in courses"
        :key="course.id"
        class="bg-white rounded-xl shadow p-4 space-y-2"
      >
        <view class="text-base font-bold text-indigo-700">
          {{ course.title }}
        </view>
        <view class="text-sm text-gray-500">
          {{ course.description }}
        </view>

        <!-- å­¦ä¹ è¿›åº¦æ¡ -->
        <view class="w-full h-2 bg-gray-200 rounded-full overflow-hidden">
          <view class="h-2 bg-indigo-500" :style="{ width: course.progress + '%' }"></view>
        </view>
        <view class="text-xs text-gray-400 text-right">å­¦ä¹ è¿›åº¦ {{ course.progress }}%</view>

        <!-- æ“ä½œæŒ‰é’® -->
        <view class="flex justify-end">
          <button
            class="bg-indigo-500 text-white rounded-full px-4 py-1 text-sm shadow"
            @tap="goToCourse(course.id)"
          >
            è¿›å…¥è¯¾ç¨‹
          </button>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const courses = ref([
  {
    id: 1,
    title: 'Vue3 å…¥é—¨æ•™ç¨‹',
    description: 'é€‚åˆåˆå­¦è€…å¿«é€Ÿä¸Šæ‰‹ Vue3 å¼€å‘ã€‚',
    progress: 60,
  },
  {
    id: 2,
    title: 'UniApp å®žæˆ˜è¯¾ç¨‹',
    description: 'é€šè¿‡å®žæˆ˜é¡¹ç›®æŽŒæ¡ UniApp å¼€å‘æŠ€å·§ã€‚',
    progress: 35,
  },
  {
    id: 3,
    title: 'å‰ç«¯æ€§èƒ½ä¼˜åŒ–æŒ‡å—',
    description: 'æŽŒæ¡å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„å…³é”®æŠ€æœ¯ä¸Žå·¥å…·ã€‚',
    progress: 80,
  },
])

const goToCourse = (id: number) => {
  uni.navigateTo({ url: `/pages/courses/detail?id=${id}` })
}
</script>
